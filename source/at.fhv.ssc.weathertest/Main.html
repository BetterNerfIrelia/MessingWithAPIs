<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        table, th, td {
            border: 1px ;
            border-collapse: collapse;
            padding: 15px;
            background-color: cornflowerblue;
        }
        p{
            color: white;
            font-size: 30px;
        }
    </style>
    <title>Weather</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script>

        function getJSON() {
            $.getJSON("http://api.openweathermap.org/data/2.5/weather?q=Dornbirn&units=metric&APPID=b8cc30f4d3861fdd45ffb03e7c8dc4aa\n", function (json) {
                var call = (JSON.stringify(json));
                getTemperature(call);
                getIcon(call);
                getResult(call);
            });
        }

        //TODO: Refactor with RegEx.
        function getTemperature(string) {
            var temp = string.search(("temp"));
            var pressure = string.search(("pressure"));

            var temperature =  string.substring(temp +6, pressure -2);
            document.getElementById("temperature").innerHTML = temperature + "&deg";
        }

        function getDescription(string) {
            var desc = string.search(("description"));
            var icon = string.search(("icon"));

            var description =  string.substring(desc +14, icon -3);
            document.getElementById("description").innerHTML = description;
        }

        function getIcon(string){
            var ico = string.search(("icon"));

            var icon = string.substring(ico+7, ico+10);
            var url = "http://openweathermap.org/img/w/" + icon + ".png";
            document.getElementById("icon").src =url;
        }

        function getResult(string) {
            document.getElementById("trousers").src ="jeans.png";
        }
    </script>
</head>
<body onload="getJSON()">
<table align="center">
    <tr align="center">
        <td><p id="temperature"></p></td>
        <td><img id="icon" src="" width="100px"><img></td>
    </tr>
    <tr align="center">
<td><p>Trousers:</p></td>
        <td><img id="trousers" src="" width="100px"><img></td>
    </tr>
    <tr>
</table>
</body>
</html>


<!--

-----TEMP-----
n < 20.00

-----DESCRIPTION-----
clear sky SHORT
few clouds SHORT
scattered clouds SHORT
broken clouds LONG
shower rain LONG
rain LONG
thunderstorm LONG
snow LONG
mist LONG

-->